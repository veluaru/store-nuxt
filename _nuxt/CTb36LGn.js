import{_ as y}from"./CfCdoYnI.js";import{u as k}from"./EIFIQGdO.js";import{u as x}from"./D1Cl_f_V.js";import{P as b}from"./DYUmeqqc.js";import{L as w}from"./A1753duK.js";import{g as B,p as P,q as u,v as q,x as C,c as n,a as t,l as N,b as p,w as A,d as i,t as d,o,_ as L}from"./rv5oAsuf.js";const S={class:"search-page-container"},T={class:"search-page-container__header-bar"},V={class:"search-page-container__section-title"},I={class:"search-query"},E={key:0,class:"search-page-container__error-message"},R={key:1,class:"search-page-container__status-message-wrapper"},D={key:3,class:"search-page-container__status-message-wrapper"},j={class:"search-page-container__info-message"},z=B({__name:"search",setup(F){const _=P(),m=k(),v=x(),s=u([]),c=u(!1),r=u(null),l=q(()=>_.query.title||""),f=async a=>{if(!a){s.value=[];return}c.value=!0,r.value=null;try{s.value=await m.searchProductsByTitle(a)}catch(e){r.value=e,s.value=[]}finally{c.value=!1}};C(l,a=>{a?f(a):s.value=[]},{immediate:!0});function h(a){v.addProduct(a)}return(a,e)=>{const g=y;return o(),n("div",S,[t("div",T,[p(g,{to:"/",class:"search-page-container__back-button"},{default:A(()=>[...e[0]||(e[0]=[t("i",{class:"fa-solid fa-arrow-left"},null,-1),i(" Volver al Inicio ",-1)])]),_:1}),t("h1",V,[e[1]||(e[1]=i(' Resultados para: "',-1)),t("span",I,d(l.value),1),e[2]||(e[2]=i('" ',-1))])]),r.value?(o(),n("div",E," ⚠️ Error en la búsqueda: "+d(r.value.message),1)):c.value?(o(),n("div",R,[p(w),e[3]||(e[3]=t("p",null,"Buscando productos...",-1))])):s.value.length>0?(o(),N(b,{key:2,products:s.value,onAddToCart:h},null,8,["products"])):(o(),n("div",D,[t("div",j,' No se encontraron productos que coincidan con "'+d(l.value)+'". Intenta otra palabra clave. ',1)]))])}}}),Q=L(z,[["__scopeId","data-v-ae9cd7e0"]]);export{Q as default};
